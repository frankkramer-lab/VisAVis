<!-- sidebar visible -->
<div *ngIf="sidebarVisible === 0" class="dark-mode full-height scroll-style d-flex flex-column pb-2">
  <!-- headline -->
  <h3 class="m-2">
    <div class="row align-items-center">
      <div *ngIf="sidebarBackButtonVisible" class="col-auto ">
        <fa-icon
          (click)="returnHome()"
          [openDelay]="1000"
          class="cursor"
          container="body"
          icon="arrow-left"
          ngbTooltip="Return to home"
          placement="right"
        ></fa-icon>
      </div>
      <div class="col"><a href="home"><img src="assets/VisAVis-logo-white-with-text.png" alt="VisAVis" height="50"></a></div>
      <div class="col-auto">
        <fa-icon
          (click)="toggleSidebar(1)"
          [openDelay]="1000"
          class="cursor"
          container="body"
          icon="times"
          ngbTooltip="Hide the sidebar"
          placement="left"
        ></fa-icon>
      </div>
    </div>
  </h3>

  <div class="d-grid">
    <!-- PATIENTS -->
    <ng-container *ngIf="sidebarPatientsVisible !== 2">
      <button
        (click)="togglePatients(sidebarPatientsVisible)"
        class="btn btn-dark icon-hover btn-lg text-start rounded-0"
        type="button"
      >
        <fa-icon [ngClass]="sidebarPatientsVisible === 0 ? 'text-info' : ''" icon="hospital-user">
        </fa-icon>
        &nbsp;{{ labelSubnetworks ?? '' }}
      </button>
      <div *ngIf="sidebarPatientsVisible === 0">
        <div class="p-3">
          <app-sidebar-patients
            [filterableProperties]="filterableProperties"
            [filterByProperty]="filterByProperty"
            [labelGroups]="labelGroups"
            [labelsInfos]="labelInfo"
          ></app-sidebar-patients>
        </div>
      </div>
    </ng-container>

    <!-- THRESHOLD -->
    <ng-container *ngIf="sidebarThresholdVisible !== 2">
      <button
        (click)="toggleThreshold(sidebarThresholdVisible)"
        class="btn btn-dark icon-hover btn-lg text-start rounded-0"
        type="button"
      >
        <fa-icon [ngClass]="sidebarThresholdVisible === 0 ? 'text-info' : ''" icon="sort-amount-up">
        </fa-icon>
        &nbsp;Threshold
      </button>
      <div *ngIf="sidebarThresholdVisible === 0">
        <div class="p-3">
          <app-sidebar-threshold></app-sidebar-threshold>
        </div>
      </div>
    </ng-container>

    <!-- NODES -->
    <ng-container *ngIf="sidebarNodesVisible !== 2">
      <button
        (click)="toggleNodes(sidebarNodesVisible)"
        class="btn btn-dark icon-hover btn-lg text-start rounded-0"
        type="button"
      >
        <fa-icon [ngClass]="sidebarNodesVisible === 0 ? 'text-info' : ''" icon="project-diagram">
        </fa-icon>
        &nbsp;Nodes
      </button>
      <div *ngIf="sidebarNodesVisible === 0">
        <div class="p-3">
          <app-sidebar-nodes></app-sidebar-nodes>
        </div>
      </div>
    </ng-container>

    <!-- LAYOUT -->
    <ng-container *ngIf="sidebarLayoutVisible !== 2">
      <button
        (click)="toggleLayout(sidebarLayoutVisible)"
        class="btn btn-dark icon-hover btn-lg text-start rounded-0"
        type="button"
      >
        <fa-icon [ngClass]="sidebarLayoutVisible === 0 ? 'text-info' : ''" icon="palette"></fa-icon>
        &nbsp;Layout
      </button>
      <div *ngIf="sidebarLayoutVisible === 0">
        <div class="p-3">
          <app-sidebar-layout></app-sidebar-layout>
        </div>
      </div>
    </ng-container>

    <!-- DOWNLOAD -->
    <ng-container *ngIf="sidebarDownloadVisible !== 2">
      <button
        (click)="toggleDownload(sidebarDownloadVisible)"
        class="btn btn-dark icon-hover btn-lg text-start rounded-0"
        type="button"
      >
        <fa-icon
          [ngClass]="sidebarDownloadVisible === 0 ? 'text-info' : ''"
          icon="arrow-circle-down"
        >
        </fa-icon>
        &nbsp;Download
      </button>
      <div *ngIf="sidebarDownloadVisible === 0">
        <div class="p-3">
          <app-sidebar-download></app-sidebar-download>
        </div>
      </div>
    </ng-container>

    <!-- LINK GENERATOR -->
    <ng-container *ngIf="sidebarGeneratorVisible !== 2">
      <button
        (click)="toggleGenerator(sidebarGeneratorVisible)"
        class="btn btn-dark icon-hover btn-lg text-start rounded-0"
        type="button"
      >
        <fa-icon [ngClass]="sidebarGeneratorVisible === 0 ? 'text-info' : ''" icon="link"></fa-icon>
        &nbsp;Link generator
      </button>
      <div *ngIf="sidebarGeneratorVisible === 0">
        <div class="p-3">
          <app-sidebar-generator></app-sidebar-generator>
        </div>
      </div>
    </ng-container>

    <!-- IMPRESSUM -->
    <ng-container *ngIf="sidebarImpressumVisible !== 2">
      <button
        (click)="toggleImpressum(sidebarImpressumVisible)"
        class="btn btn-dark icon-hover btn-lg text-start rounded-0"
        type="button"
      >
        <fa-icon [ngClass]="sidebarImpressumVisible === 0 ? 'text-info' : ''" icon="info-circle">
        </fa-icon>
        &nbsp;Impressum
      </button>
      <div *ngIf="sidebarImpressumVisible === 0">
        <div class="p-3">
          <app-sidebar-legal></app-sidebar-legal>
        </div>
      </div>
    </ng-container>
  </div>

  <div class="mt-auto">
    <div *ngIf="isUserOnline === false" class="small m-2">You're not connected to NDEx</div>
    <div (click)="logout()" *ngIf="isUserOnline === true" class="btn btn-sm btn-outline-danger m-2">
      Disconnect from NDEx
    </div>
  </div>
</div>

<!-- sidebar button visible -->
<ng-container *ngIf="sidebarVisible === 1">
  <fa-icon
    (click)="toggleSidebar(0)"
    [openDelay]="1000"
    class="cursor m-1"
    icon="bars"
    ngbTooltip="Show the sidebar"
    placement="right"
    size="3x"
  ></fa-icon>
</ng-container>
